<!DOCTYPE html>








<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<link href="../../stylesheets/screen.css" media="all" rel="stylesheet" type="text/css" />
	<script src="http://modernizr.com/downloads/modernizr-2.5.3.js"></script>
	<script src="//code.jquery.com/jquery-1.11.2.min.js"></script>
	<script src="../../assets/js/keymaster.min.js"></script>

	<title>P2 Magazine | IoT - First The Hype Then The Plumbing </title>
	<meta name="description" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta property="og:url" content="http://localhost:8282/issue12/iot/" />

	<meta name="prismic-routing-pattern" content="/issue$issueNum/$slug">
    <meta name="prismic-routing-param" content="slug">
    <meta name="prismic-routing-param" content="issueNum">
</head>

<body class="wrapper">
	<!-- Google Tag Manager -->
	<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-P97X8B"
	height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
	<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
	new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
	j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
	'//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
	})(window,document,'script','dataLayer','GTM-P97X8B');</script>
	<!-- End Google Tag Manager -->

	<nav class="paginate">
		
			<a id="prev" class="prev" href="../../issue12/index/">◀</a>
		

		
			<a id="next" class="next" href="../../issue12/gaming-your-security/">▶</a>
		
		<script>
		key('left', function() {
			window.open($("#prev")[0].href, '_self', false);
		});
		key('right', function(){
			window.open($("#next")[0].href, '_self', false);
        });
		</script>
	</nav>

	<div class="container">
		<section class="page">
			<nav class="issues">
				<ul class="clearfix">
					<li class="active"><a href="">Issue 12, October 2015</a></li>
					<li class="pull-right">Page 1 / 8</li>
				</ul>
			</nav>

			<article>
				<header>
					<h1>IoT - First The Hype Then The Plumbing </h1>
					

					
						<p class="byline">
							Works and Music by
							
								
							Mat Henshall
						</p>
					
				</header>
				<div class="article-body">
					<p>There is much hype around the Internet of Things (the linking of machines and sensors to digital networks), but is it really deserved? At it's core IoT is just the internet, with things on it. But these things are different to the computers we are used to dealing with. In short, the IoT is the same - but different. </p><h3>Old news?</h3><p>In 1982, Carnegie Mellon University students Mike Kazar, David Nichols, John Zsarnay and Ivor Durham wired up a soda vending machine so that they could see the availability and “coldness” of the soda cans in each dispensing column remotely via the internet (at that time known as ARPANET) using the command line utility “finger”. Quite possibly the first “Thing on the Internet”. Since then millions of devices have been happily created and connected to digital networks without fanfare or hype.</p><p>So why is “Internet of Things” gaining attention now? Rather than a major technological breakthrough, IoT relevance today comes from the convergence of several trends.</p><h4>1. Moore’s Law</h4><p>First, and perhaps the most important is the continued march of “Moore's Law” (i.e. that the number of transistors in an integrated circuit doubles every two years) along with other hardware and manufacturing innovations that mean devices are getting cheaper, using less energy and are more powerful.</p><h4>2. Operating Systems</h4><p>Cheaper, faster hardware is not the only enabler. Cheaper commodity software in the form of open source industrial strength operating systems (OS's) such as Linux or RTOS (an open source realtime OS) make adding networking,  wifi - or other radio protocol - and the needed software communication stack to a device, trivial.</p><h4>3. Internet</h4><p>And of course, there is the Internet itself. The global adoption of open standards on how devices communicate using agreed protocols - physical, link, network, transport and higher - on the internet mean that a device can be assured once connected, other agents on the network can communicate with it.</p><h4>Easy peasy?</h4><p>Well that’s it then. Add Linux, wifi and/or an ethernet port and I have my connected device! Well yes and no. </p><h3>Standard architectures won’t cut it</h3><h4>Device to Device Communications</h4><p>Most of the higher level protocols that we all love and agree to use such as HTTP were conceived for, and are optimized for, the needs of machine, human or unconstrained server to server communication. Although there is an element of human to machine communication in IoT and connected devices, much of the value of a connected device comes from the machine or sensor communicating directly to services and other devices. For example, let’s take a hypothetical warehouse system as shown below. A network of temperature and humidity sensors will directly send information to an HVAC (Heating, Ventilation and Air Conditioning) system to optimize the flow of air and temperature in a warehouse. As stock is moved around, warehouse robots can consolidate items needing chilling into smaller areas, and the HVAC system instructed accordingly. No humans needed. </p><p class="block-img"><img src="https://prismic-io.s3.amazonaws.com/p2-magazine/715c720bf48e46c2c283bc71a0efd83da6a4372f_iot.png" alt=""></p><h4>Different Design Goals</h4><p>There is the huge variety in size, battery life, deployment, form factor, functionality that add wrinkles to an IoT system architecture. Take, for example, a system that has several simple temperature sensors. Each sensor needs to run on a small coin cell for perhaps 5 years. Being permanently on a wifi network and being able to respond to an adhoc 'HTTP GET' request would drain the battery in minutes. What if it 'went to sleep' and woke up every few minutes and 'posted' an HTTP request to a list of interested devices? Even the most efficient ultra-low wifi device takes a minimum of 60ms to reconnect to a Wifi access point and in the world of constrained devices, time is money, or at least battery drain. Given an HTTP request is actually made up of many lower level packets negotiating a TCP/IP session and then sending the data, this dictates that Wifi and HTTP Post are not going to cut it. So much for our beloved RESTful interfaces. </p><h4>New(er) protocols and standards</h4><p>The solution is to start looking at lower level protocols that work at the packet level as these are smaller and require less power to send over the network. There are a number of organizations and consortiums working on defining standards for not only how to get data from a data producer to a data consumer, but also how to discover and provision devices. And perhaps more importantly interoperate. In the world of Human/machine interactions on the internet, any web browser can go to any web server that supports HTTP and returns HTML. We need the same for devices. A device from one manufacturer needs to be able to send temperature events to, for example, an air-conditioning system from another. </p><blockquote><p>“interoperability, it is a large dish of alphabet soup”</p></blockquote><p>Although there is a great deal of work in the space of interoperability, it is a large dish of alphabet soup, with different emphasis driven by industry and/or architectural goals. In the consumer electronic space, the Allseen Alliance - driven by companies such as Qualcomm, LG, Microsoft and Sony - and the Open Interconnect Consortium - driven by Intel, Cisco and Samsung - are both getting traction along with Wemo from Belkin (based on UPNP). There is also Google Thread and Apple Homekit. And the eclipse foundation is doing good work building open source implementations and frameworks for IoT open standards (<a href="http://iot.eclipse.org">http://iot.eclipse.org</a>). The list of organisations jumping on the bandwagon continues to grow.</p><h4>Mesh Networks</h4><p>Making this all a lot more complex is that many connected devices don't use ethernet or Wifi as their underlying physical layer, and for good reason. Take the temperature sensor above, the use of Wifi is a poor choice as it is not designed in terms of topology or specifications to be a low power physical transport. Wifi is generally deployed as a star and hub style network where a number of stations all connect to a single access point on specific radio bands. The range required for a device to reach the access point means that both the hub and the radio of the device  must be relatively high powered. It isn't just power that makes Wifi a poor choice. Radio is unpredictable as it is affected by interference, reflection and refraction. So a wifi connection that has worked perfectly for months can suddenly become unreliable because someone next door started using an old microwave (true story). If your phone has a bad connection, moving it 6 inches can suddenly improve it. A fixed connected device may not have that luxury. </p><blockquote><p>“While things are still in such a state of flux the best approach to hype is not to get suckered in by [the hype].”</p></blockquote><p>Often the solution is to deploy 'mesh' networks where connected devices all communicate with their neighbours and messages hop from one node to another. This allows for redundancy in case one node fails or is temporarily out of reach. This topography often means the individual device power requirements are greatly reduced. Typically there will be one or more 'gateway' devices that connects this mesh to the internet. Work in this area is continuing and well known implementations and standards include Zigbee and Zwave. There is great work being done in BlueTooth Mesh protocols and 6LowPan. Google is also driving a set of protocols targeted at the connected home called 'Thread', which is built on top of 6LoPan and other existing standards.</p><h4>Messaging</h4><p>Most connected devices will need to communicate with a service in the cloud, or allow a smartphone to control it remotely for the full value to be received. Sometimes this is through a local gateway, sometimes directly from the device. Many systems have found that HTTP is a poor mechanism and an event ‘push’ model is often more appropriate. Alternatives that are beginning to be used include MQTT (a lightweight pub/sub protocol), as well as several implementations on top of XMPP (an XML based protocol). CoAP (a UDP based protocol) is beginning to attract attention, as it combines some features of a RESTful interface with low overhead and the Observer Pattern. However, for those of us interested in the (re)decentralization of the internet, perhaps the most interesting messaging mechanism that is beginning to show up is the use of TeleHash (<a href="http://www.telehash.org/">www.telehash.org</a>), which provides a decentralized, secure and private messaging infrastructure. More on that in my Thoughtworks blog shortly.</p><h4>Troubleshooting</h4><p>Finally, how to troubleshoot IoT architectures is an often overlooked aspect. We take for granted the many tools used to debug and troubleshoot the applications and devices that connect as PC’s, Smart Phones, tablets and servers. The range of tools and the number of different manufacturers involved in an IoT implementation brings its own set of complications that must be factored into the implementation choices.</p><h3>Putting it all together</h3><p>So is all the hype deserved? It doesn't really matter. While things are still in such a state of flux the best approach to hype is not to get suckered in by it.</p><p>Instead, as I have outlined, there are a number of ways in which the Internet of Things is the same, but different. The key to operating in the IoT space is understanding the implications of these similarities and differences for your architecture, your solution, and your business.</p><p>What does this all mean to anyone implementing an IoT solution? The choices and alternatives are not clear cut. The focus should be on clearly understanding the goals and requirements of your connected architecture. However, many of your technical choices will be driven by the manufacturer of the connected devices you choose. When looking at more than a single point solution, one of the key considerations needs to be how easy the system architecture is to trouble shoot, and how security, privacy and third party dependencies are managed. We are in an exciting age, connected devices are getting smarter and more autonomous and the required standards for interoperability and robust implementations are coming. </p>
				</div>

				<aside class="left-column clearfix">
					<div class="author">

                    
                        
                        
                        <div>
                            <a href="#">
                                <img class="author-avatar" src="https://prismic-io.s3.amazonaws.com/p2-magazine/79131472ec9cdeec2bf569f73018937cedf220e3_img_0004.jpg" />
                            </a>
                            <div>Mat Henshall</div>
                            
                        </div>
                    
				</aside>
			</article>
		</section>
	</div>

	<div id="bottom-pages">
		<nav class="paginate">
			
				<a class="prev" href="../../issue12/index/">◀</a>
			

			
				<a class="next" href="../../issue12/gaming-your-security/">▶</a>
			
		</nav>
	</div>
<script>window.routerInfosForFile = {"src":"/article.html","dst":"/issue12/iot/index.html","args":{"issueNum":"12","slug":"iot"}};</script>
</body>
</html>
